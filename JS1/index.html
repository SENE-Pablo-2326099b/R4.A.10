<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Afficher temperature</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <section id="maZone">
        <h1>Température actuelle</h1>
        <p>Valeur : <span id="temp" class="temperature" data-unit="°C"></span></p>
        <p id="textZone"></p>
    </section>
    <h2>Historique des températures :</h2>
    <ul id="history"></ul>

    <script>
        //Generation du tableau de valeurs aléatoire
        var A_tableauTemp = [];
        for (let I_index = 0; I_index < 20; I_index++)
        {
            A_tableauTemp.push(Math.floor(Math.random()*50) -10 );
        }
        //Récupétation de l'ID
        var O_id = document.getElementById("temp");
        var O_text = document.getElementById("textZone");
        //Index pour le tableau
        let index = 0;
        var O_history = document.getElementById("history");

    const interval = setInterval(() => {
    let temp = A_tableauTemp[index];
    O_id.textContent = temp + " °C";

    if(temp <= 0) O_id.className = "temperature_cold";
    else if(temp <= 20) O_id.className = "temperature_mild";
    else if(temp <= 30) O_id.className = "temperature_warm";
    else O_id.className = "temperature_hot";

    if(temp <= 0) O_text.textContent = "Brrrrrrr, un peu froid ce matin !";
    else if(temp > 30) O_text.textContent = "Caliente ! Vamos a la playa !";
    else O_text.textContent = "";

    let li = document.createElement("li");
    li.textContent = temp + " °C";
    li.className = O_id.className;
    O_history.appendChild(li);

    index++;
    if(index >= A_tableauTemp.length){
        clearInterval(interval);
        return;
    }
}, 2000);
</script>
</body>
</html>